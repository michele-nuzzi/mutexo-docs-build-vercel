"use strict";(self.webpackChunkmutexo_docs=self.webpackChunkmutexo_docs||[]).push([[7024],{1398:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>d,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"server/config","title":"Configuration","description":"The interface expected in the json file used as configuration is the following:","source":"@site/docs/server/config.mdx","sourceDirName":"server","slug":"/server/config","permalink":"/server/config","draft":false,"unlisted":false,"editUrl":"https://github.com/HarmonicLabs/mutexo-docs-docs/docs/server/config.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Configuration"},"sidebar":"tutorialSidebar","previous":{"title":"CLI","permalink":"/server/cli"},"next":{"title":"mutexo-client","permalink":"/category/mutexo-client"}}');var o=i(4848),s=i(8453);const d={sidebar_position:2,title:"Configuration"},t="Configuration",c={},l=[{value:"<code>network</code>",id:"network",level:2},{value:"<code>threads</code>",id:"threads",level:2},{value:"<code>logLevel</code>",id:"loglevel",level:2},{value:"<code>nodeSocketPath</code>",id:"nodesocketpath",level:2},{value:"<code>httpPort</code>",id:"httpport",level:2},{value:"<code>wsPorts</code>",id:"wsports",level:2},{value:"<code>addrs</code>",id:"addrs",level:2},{value:"<code>ignoreEnv</code>",id:"ignoreenv",level:2},{value:"<code>disableLogColors</code>",id:"disablelogcolors",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,o.jsx)(n.p,{children:"The interface expected in the json file used as configuration is the following:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'interface MutexoServerConfig {\n    network: "mainet" | "preview" | "preprod" | number;\n    threads: string;\n    logLevel: "debug" | "info" | "warn" | "error" | "none";\n    nodeSocketPath: string;\n    httpPort: number;\n    wsPorts: number[];\n    addrs: string[];\n    ignoreEnv: boolean;\n    disableLogColors: boolean;\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["each of which can be specified (and overwritten if the value is not an array) directly by the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"network",children:(0,o.jsx)(n.code,{children:"network"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),": ",(0,o.jsx)(n.code,{children:"-n"})," or ",(0,o.jsx)(n.code,{children:"--network"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["defaults to ",(0,o.jsx)(n.code,{children:'"mainnet"'}),";"]}),"\n",(0,o.jsxs)(n.p,{children:["it can be either the strings ",(0,o.jsx)(n.code,{children:'"mainnet"'}),", ",(0,o.jsx)(n.code,{children:'"preview"'}),", ",(0,o.jsx)(n.code,{children:'"preprod"'})," or a ",(0,o.jsx)(n.code,{children:"number"})," to be used as network magic (usually devnets and private testnets)."]}),"\n",(0,o.jsx)(n.h2,{id:"threads",children:(0,o.jsx)(n.code,{children:"threads"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),": ",(0,o.jsx)(n.code,{children:"-t"})," or ",(0,o.jsx)(n.code,{children:"--threads"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["defaults to ",(0,o.jsx)(n.code,{children:'"50%"'}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["it can be either a ",(0,o.jsx)(n.code,{children:"string"})," representing a percentage or a ",(0,o.jsx)(n.code,{children:"number"})," explicitly setting the number of threads to be used\n(min 2, max ",(0,o.jsx)(n.a,{href:"https://nodejs.org/api/os.html#osavailableparallelism",children:(0,o.jsx)(n.code,{children:"os.availableParallelism()"})}),")."]}),"\n",(0,o.jsx)(n.h2,{id:"loglevel",children:(0,o.jsx)(n.code,{children:"logLevel"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),": ",(0,o.jsx)(n.code,{children:"-l"})," or ",(0,o.jsx)(n.code,{children:"--log-level"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["defaults to ",(0,o.jsx)(n.code,{children:'"info"'}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["it can be one of the following strings: ",(0,o.jsx)(n.code,{children:'"debug"'}),", ",(0,o.jsx)(n.code,{children:'"info"'}),", ",(0,o.jsx)(n.code,{children:'"warn"'}),", ",(0,o.jsx)(n.code,{children:'"error"'}),", ",(0,o.jsx)(n.code,{children:'"none"'}),"."]}),"\n",(0,o.jsx)(n.p,{children:"sets the minimum severity level of logs to be printed."}),"\n",(0,o.jsx)(n.h2,{id:"nodesocketpath",children:(0,o.jsx)(n.code,{children:"nodeSocketPath"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),": ",(0,o.jsx)(n.code,{children:"-s"})," or ",(0,o.jsx)(n.code,{children:"--node-socket-path"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["If ",(0,o.jsx)(n.code,{children:"ignoreEnv"})," is set to ",(0,o.jsx)(n.code,{children:"false"})," (default), the default value of ",(0,o.jsx)(n.code,{children:"nodeSocketPath"})," will be the ",(0,o.jsx)(n.code,{children:"CARDANO_NODE_SOCKET_PATH"})," environment variable; otherwise defaults to ",(0,o.jsx)(n.code,{children:'"./node.socket"'}),"."]}),"\n",(0,o.jsx)(n.admonition,{title:"a node socket is necessary",type:"warning",children:(0,o.jsxs)(n.p,{children:["if no socket path is found at the path used (either explicit or default), ",(0,o.jsx)(n.code,{children:"mutexo-server"})," cannot work."]})}),"\n",(0,o.jsx)(n.h2,{id:"httpport",children:(0,o.jsx)(n.code,{children:"httpPort"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),": ",(0,o.jsx)(n.code,{children:"-hp"})," or ",(0,o.jsx)(n.code,{children:"--http-port"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["defaults to ",(0,o.jsx)(n.code,{children:"3001"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["port to be used by the http server to listen for requests (",(0,o.jsx)(n.code,{children:"/wsAuth"})," path)."]}),"\n",(0,o.jsx)(n.h2,{id:"wsports",children:(0,o.jsx)(n.code,{children:"wsPorts"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),": ",(0,o.jsx)(n.code,{children:"-ws"})," or ",(0,o.jsx)(n.code,{children:"--ws-port"})," (can be specified many times)."]}),"\n",(0,o.jsxs)(n.p,{children:["defaults to ",(0,o.jsx)(n.code,{children:"[]"})," (empty array)."]}),"\n",(0,o.jsx)(n.p,{children:"Array of ports to be used by the web socket server to listen for connections."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"config.threads - 1"})," web socket servers will be started, each listening on a different port."]}),"\n",(0,o.jsx)(n.p,{children:"if not enough ports are specified, random (aviable) ports will be used."}),"\n",(0,o.jsx)(n.h2,{id:"addrs",children:(0,o.jsx)(n.code,{children:"addrs"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),": ",(0,o.jsx)(n.code,{children:"-a"})," or ",(0,o.jsx)(n.code,{children:"--addr"})," (can be specified many times)."]}),"\n",(0,o.jsxs)(n.admonition,{type:"info",children:[(0,o.jsxs)(n.mdxAdmonitionTitle,{children:[(0,o.jsx)(n.code,{children:"--addr"})," does NOT overwrite"]}),(0,o.jsxs)(n.p,{children:["unlike other cli options, the ",(0,o.jsx)(n.code,{children:"addrs"})," field in the configuration is not overwritten by the cli."]}),(0,o.jsxs)(n.p,{children:["instead if one or more ",(0,o.jsx)(n.code,{children:"--addr"})," options are used in the cli, the specified values will be appended to the configuration array."]})]}),"\n",(0,o.jsxs)(n.p,{children:["defaults to ",(0,o.jsx)(n.code,{children:"[]"})," (empty array)."]}),"\n",(0,o.jsxs)(n.p,{children:["It must be an array of shelley cardano addresses in bech32 (see ",(0,o.jsx)(n.a,{href:"https://github.com/cardano-foundation/CIPs/tree/master/CIP-0019",children:"CIP-19"})," for an in-depth description of cardano addresses)."]}),"\n",(0,o.jsx)(n.h2,{id:"ignoreenv",children:(0,o.jsx)(n.code,{children:"ignoreEnv"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),": ",(0,o.jsx)(n.code,{children:"-E"})," or ",(0,o.jsx)(n.code,{children:"--ignore-env"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["defaults to ",(0,o.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["if explicitly setted to ",(0,o.jsx)(n.code,{children:"true"}),", the environment variables, including the ones specified in ",(0,o.jsx)(n.code,{children:".env"})," files will be ignored."]}),"\n",(0,o.jsxs)(n.admonition,{type:"warning",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.code,{children:"CARDANO_NODE_SOCKET_PATH"})}),(0,o.jsxs)(n.p,{children:["it is common in cardano development to use the environment variable ",(0,o.jsx)(n.code,{children:"CARDANO_NODE_SOCKET_PATH"})," to indicate the path where the cardano-node socket is present."]}),(0,o.jsxs)(n.p,{children:["if you use ",(0,o.jsx)(n.code,{children:"--ignore-env"}),", make sure to specify a ",(0,o.jsx)(n.code,{children:"--node-socket-path"}),"."]})]}),"\n",(0,o.jsx)(n.h2,{id:"disablelogcolors",children:(0,o.jsx)(n.code,{children:"disableLogColors"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.a,{href:"./cli",children:"cli"}),": ",(0,o.jsx)(n.code,{children:"--disable-log-colors"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["defaults to ",(0,o.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["if set to ",(0,o.jsx)(n.code,{children:"true"}),", the log output will not have colors."]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>t});var r=i(6540);const o={},s=r.createContext(o);function d(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);